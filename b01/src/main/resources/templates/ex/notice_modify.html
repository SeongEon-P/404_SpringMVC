<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/layout1.html}">
<div id="container" layout:fragment="content">
<!--    선생님 코드(수정 들어갔을때 스타일)-->
<!--    <th:block layout:fragment="head">-->
<!--        <link th:href="@{/css/styles.css}" rel="stylesheet"/>-->
<!--    </th:block>-->
<!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>-->

    <!-- location_area -->
    <div  class="location_area customer">
        <div class="box_inner">
            <h2 class="tit_page">TOURIST <span class="in">in</span> TOUR</h2>
            <p class="location">고객센터 <span class="path">/</span> 공지사항</p>
            <ul class="page_menu clear">
                <li><a href="#" class="on">공지사항</a></li>
                <li><a href="#">문의하기</a></li>
            </ul>
        </div>
    </div>
    <!-- //location_area -->

    <!-- bodytext_area -->

    <div class="bodytext_area box_inner">
        <form th:action="@{/ex/notice_modify}" method="post" id="f1">
        <ul class="bbsview_list">
            <li class="bbs_title"><input type="text" name="title" size="108" th:value="${notice.title}"> </li>
            <li class="bbs_hit">작성일 : <span>[[${#temporals.format(notice.regDate,'yyyy-MM-dd')}]]</span></li>
            <li class="bbs_date">조회수 : <span>[[${notice.count}]]</span></li>
            <li class="bbs_content">
                <div class="editer_content" >
                    <textarea name="content" cols="110" rows="20" >[[${notice.content}]]</textarea>
                        </div>


            </li>
        </ul>
        <p class="btn_line txt_right">
            <a href="/ex/notice_list" class="btn_bbs">목록</a>
<!--            <button type="submit" class="btn_bbs">수정</button>-->
            <input type="submit" value="수정" class="btn_srch">
            <a class="btn_bbs removeBtn">삭제</a>
        </p>
            <input type="hidden" name="no" th:value="${notice.no}">
        </form>

        <ul class="near_list mt20">
            <li><h4 class="prev">다음글</h4><a href="javascript:;">추석 연휴 티켓/투어 배송 및 직접 수령 안내</a></li>
            <li><h4 class="next">이전글</h4><a href="javascript:;">이번 여름 휴가 제주 갈까? 미션 투어 (여행경비 50만원 지원)</a></li>
        </ul>

    </div>

    <!-- //bodytext_area -->

</div>


<script layout:fragment="script" th:inline="javascript">
    console.log("asd")
    const errors = [[${errors}]]
    console.log(errors)
    let errorMsg = ''
    if(errors){
        for(let i=0; i<errors.length; i++){
            errorMsg += `${errors[i].field}은(는) ${errors[i].code} \n`
        }
        history.replaceState({},null,null)
        alert(errorMsg)
    }

    // const link = <!--/*[[${pageRequestDTO.getLink()}]]*/-->

    document.querySelector(".removeBtn").addEventListener("click",function(e){
        console.log("asd")
        e.preventDefault()
        e.stopPropagation()
        const formObj = document.querySelector("form")
        formObj.action = "/ex/notice_remove"
        formObj.method = "post"
        formObj.submit()
    },false)


</script>
<!-- //container -->
</html>